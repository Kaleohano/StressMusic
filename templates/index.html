<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>多模态交互式个性化心理压力疗愈系统</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <!-- 初始页面 -->
    <div id="initial-page" class="page active">
      <div class="container">
        <h1 class="title">多模态交互式个性化心理压力疗愈系统</h1>
        <button id="start-btn" class="start-button">开始</button>
      </div>
    </div>

    <!-- 检测中页面 -->
    <div id="detecting-page" class="page">
      <div class="container">
        <div class="loading-container">
          <div class="spinner"></div>
          <h2>正在检测中...</h2>
          <p class="status-text">正在启动HRV监测和加载模型，请稍候</p>
        </div>
      </div>
    </div>

    <!-- 音乐偏好选择页面 -->
    <div id="preference-page" class="page">
      <div class="container">
        <h2>请选择您的音乐偏好</h2>
        <div class="preference-options">
          <div class="preference-option" data-preference="流行">
            <div class="option-icon">🎵</div>
            <div class="option-label">流行</div>
          </div>
          <div class="preference-option" data-preference="摇滚">
            <div class="option-icon">🎸</div>
            <div class="option-label">摇滚</div>
          </div>
          <div class="preference-option" data-preference="古典">
            <div class="option-icon">🎹</div>
            <div class="option-label">古典</div>
          </div>
        </div>
        <button id="confirm-preference-btn" class="confirm-button" disabled>
          确定
        </button>
      </div>
    </div>

    <!-- 加载中页面 -->
    <div id="loading-page" class="page">
      <div class="container">
        <div class="loading-container">
          <div class="spinner"></div>
          <h2>正在生成音乐...</h2>
          <p class="status-text">根据您的偏好和压力水平生成个性化音乐</p>
        </div>
      </div>
    </div>

    <!-- 音乐播放页面 -->
    <div id="playing-page" class="page">
      <canvas id="particle-canvas"></canvas>
      <div class="music-controls">
        <audio id="audio-player" controls autoplay></audio>
        <div class="music-info">
          <h3>正在播放您的个性化疗愈音乐</h3>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>
